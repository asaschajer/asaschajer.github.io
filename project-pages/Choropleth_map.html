

<!-- 
  IMPORTANT! 
  
  Keep this file unchanged to use as a template for all future project pages. 

  For every new project you add to your portfolio, make a copy of this file in the
  'project-pages' folder with a name related to the project.
-->


<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
    <!-- 
      TODO

      Upload your Unemployable (or whatever photo you like) to the assets/images folder
      and change the name of the image below to match the uploaded one

      Change the title in the <title> tag to whatever you would like the title of your portfolio to be

      This should be the same across all pages.
     -->
     <link rel="icon" href="../assets/images/About_me.png" />
     <title>Choropleth map</title>
    <meta name="description" content="A portfolio template for the Unemployables community.">
    <meta name="viewport" content="width=device-width, initial-scale=1" />

		<link rel="stylesheet" href="../css/layout.css">
    <link rel="stylesheet" href="../css/typography.css">
    <link rel="stylesheet" href="../css/utilities.css">

		<script defer src="../js/script.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	</head>
	<body>
	<div id="main-wrapper">
    <!-- NAVBAR -->
		<div class="navbar">
		  <a class="nav-title-link" href="../index.html">
			<!-- 
			  TODO - Change the "Portfolio Title" to whatever you want displayed in the top left

			  (this should be the same across all pages)
			 -->
			<span class="nav-title">GIS portfolio</span>
			<!-- 
			  TODO - Change the email after 'mailto:' to your email address for contact 
			
			  (this should be the same across all pages)
			-->
			<a class="button" href="mailto:aurore.schajer@outlook.fr">
			  <span class="button-text">Contact Me</span>
			</a>
		  </a>
		</div>

		<!-- MAIN PAGE CONTENT -->
		<div id="main-content">

		  <!-- PROJECT HEADER -->
		  <div id="project-header">
			  <!-- 
				TODO

				- Change the 'main-title' text to the name of your project
				- Change the 'body-text' text to a short and sweet description of your project (maybe the same as the one on the project card)
				- Change "desktop.jpeg" to the image filename you uploaded in the assets/images folder.
			  -->
			<div class="main-title">Choropleth map</div>
			<div class="body-text">This assignment involved creating a choropleth map using open-source SDG data to illustrate indicator 4.7.1. which represents the extent to which global citizenship education and education for sustainable development are mainstreamed in curricula, focusing on the year 2020. </div>
			<image class="project-header-image" src="../assets/images/choropleth_map_image.png">
		  </div>

		  <!-- PROJECT DETAILS -->
		  <!-- 
			TODO

			- Change the 'subheader-text' to whatever header you want for project details
			- Add paragraphs using the <div class="body-text"></div> elements in the "project-details-content"
		  -->
		  <div id="project-details">
		  <div class="subheader-text">METADATA</div>
			  <div id="Goal">
				<div class="subheader-text">Goal 4:</div>
				<div class="Goal-content">
				  <div class="body-text">Ensure inclusive and equitable quality education and promote lifelong learning opportunities for all.</div>
				</div>
			  </div>
			  <div id="Target">
				<div class="subheader-text">Target 4.7:</div>
				<div class="Target-content">
				  <div class="body-text">By 2030, ensure that all learners acquire the knowledge and skills needed to promote sustainable development, including, among others, through education for sustainable development and sustainable lifestyles, human rights, gender equality, promotion of a culture of peace and non-violence, global citizenship and appreciation of cultural diversity and of culture's contribution to sustainable development.</div>
				</div>
			  </div>
			  <div id="Indicator">
				<div class="subheader-text">Indicator 4.7.1:</div>
				<div class="Indicator-content">
				  <div class="body-text">Extent to which (i) global citizenship education and (ii) education for sustainable development are mainstreamed in (a) national education policies; (b) curricula; (c) teacher education; and (d) student assessment</div>
				</div>
			  </div>
		  </div>
		  <div id="project-details">
			<div class="subheader-text">Choropleth map</div>
			<div class="project-details-content">
			  <div class="body-text">A choropleth map is a type of thematic map in which areas are colored according to a measured data variable. This is created in proportion to the measurement, and the color progression represents different values of the variable. This facilitates a visual comparison across different geographic areas. The most common choropleth maps represent data such as population density, income tax rates, or other observations rates across geographic regions.</div>
			  <div class="body-text">The benefits of the choropleth map are that they are useful to show and interpret geographical patterns in data and most people without background knowledge on map can understand them without difficulty. </div>
			  <div class="body-text">However, choropleth maps have some limitations as they best work when geographic regions are consistent in size. If not, it might be misleading as some areas might appear more emphasized to the human eye regardless of the actual data associated with them.</div>
			</div>
		  </div>
		  <div id="project-details">
			<div class="subheader-text">Observations</div>
			<div class="project-details-content">
			  <div class="body-text">Out of all the data that was collected for this indicator, no country had a proportion of global citizenship education and education for sustainable development mainstreamed in curricula under 47.1%. The countries with the highest extent were multiple with Cuba, Romania and France at the top.</div>
			</div>
		  </div>
		  <div id="project-details">
			<div class="subheader-text">Technical skills gained</div>
			<div class="project-details-content">
			  <div class="body-text">While making this map I primarily discovered how to use the main functions of the QGIS software such as adding a base map, normalize the data studied and imported into the software, color-code and classify it to make the map, change the classes and symbology to find the best fit for the target chosen, and finally create the layout of the map (i.e., title, subtitle, legendâ€¦).</div>
			</div>
		  </div>

	<!-- Include the Link to METADATA  -->
		  <!-- IMAGE GALLERY -->
		  <div id="project-gallery">
			<!-- TODO - Change the 'subheader-text' to whatever you want the Gallery section header to say -->
			<div class="subheader-text">Image Gallery</div>
			<div class="project-gallery-content">
				<!-- 
				  TODO

				  This is where the images in the gallery live. Here's a simple gallery image for you to copy:

				  Full Width Image:

					<div class="gallery-image-container">
					  <img src="../assets/images/IMAGE_NAME" class="gallery-image">
					  <span class="image-caption">IMAGE_CAPTION</span>
					</div>

				  Half Width Image: 

					<div class="gallery-image-container half-width">
					  <img src="../assets/images/IMAGE_NAME" class="gallery-image">
					  <span class="image-caption">IMAGE_CAPTION</span>
					</div>

				  - To add an image to the this area, copy one of the above, paste it below this comment, and change the following:
					  - IMAGE_NAME: the name of the image file in assets/images
					  - IMAGE_CAPTION: to the caption of the image
				-->
				<div class="gallery-image-container half-width">
				  <img src="../assets/images/code.jpeg" class="gallery-image">
				  <span class="image-caption">Give your image a caption. People love context.</span>
				</div>
				<div class="gallery-image-container half-width">
				  <img src="../assets/images/sketchbook.jpeg" class="gallery-image">
				  <span class="image-caption">Give your image a caption. People love context.</span>
				</div>
				<div class="gallery-image-container">
				  <img src="../assets/images/camera.jpeg" class="gallery-image">
				  <span class="image-caption">Give your image a caption. People love context.</span>
				</div>
			</div>
		  </div>
		</div>
	</div>
	<div id='map'></div>
<script type="text/javascript" src="dataqgis_percentage.js"></script>
<script type="text/javascript">

	const map = L.map('map').setView([10, 10], 2);

//UPDATE above - notice the SDG15v3.js file - that is my geometry file - replace that file with your own! => DONE
//call the basemap you want to use
	const tiles = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
		maxZoom: 19,
		attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
	}).addTo(map);

	// control that shows attribute info on hover
	const info = L.control();

	info.onAdd = function (map) {
		this._div = L.DomUtil.create('div', 'info');
		this.update();
		return this._div;
	};

		//UPDATE to call your own data for the interactivity- the name after "props" is the attribute name - look in your js file to find the attribute to call 
		// change class breaks and color depending on your values //UPDATE for our own legend - use colorbrewer.org for ideas for colors
		//UPDATE legend to match the classes you coded - and the source of your data needs to reference the correct link
	info.update = function (props) {
		const contents = props ? `<b>${props.nam_en}</b><br />${props.percentage} % of global citizenship education and education for sustainable development mainstreamed in curricula` : 'Hover over a state';
		this._div.innerHTML = `<h4>4.7.1 Extent to which global citizenship education and education for sustainable development are mainstreamed in curricula</h4>${contents}`;
	};

	info.addTo(map);


	
	
	function getColor(d) {
		return d > 100 ? '#005a32' :
			d > 90  ? '#238443' :
			d > 80  ? '#41ab5d' :
			d > 70  ? '#78c679' :
			d > 60  ? '#addd8e' :
			d > 50   ? '#d9f0a3' :
			d > 47.1   ? '#f7fcb9' :
			d > 0   ? '#ffffe5' : '#f7fcf5';
	}

//update the fill color to your variable 
	function style(feature) {
		return {
			weight: 2,
			opacity: 1,
			color: 'white',
			dashArray: '3',
			fillOpacity: 0.7,
			fillColor: getColor(feature.properties.percentage)
		};
	}

	function highlightFeature(e) {
		const layer = e.target;

		layer.setStyle({
			weight: 5,
			color: '#666',
			dashArray: '',
			fillOpacity: 0.7
		});

		layer.bringToFront();

		info.update(layer.feature.properties);
	}

	/* global statesData */ //UPDATE nationData
	const geojson = L.geoJson(nationData, {
		style,
		onEachFeature
	}).addTo(map);

	function resetHighlight(e) {
		geojson.resetStyle(e.target);
		info.update();
	}

	function zoomToFeature(e) {
		map.fitBounds(e.target.getBounds());
	}

	function onEachFeature(feature, layer) {
		layer.on({
			mouseover: highlightFeature,
			mouseout: resetHighlight,
			click: zoomToFeature
		});
	}

	map.attributionControl.addAttribution('SDG data &copy; <a href="https://unstats-undesa.opendata.arcgis.com/">UN SDG DataHub</a>');



	const legend = L.control({position: 'bottomright'});

	legend.onAdd = function (map) {

		const div = L.DomUtil.create('div', 'info legend');
		const grades = [0, 47.1, 50, 60, 70, 80, 90];
		const labels = [];
		let from, to;

		for (let i = 0; i < grades.length; i++) {
			from = grades[i];
			to = grades[i + 1];

			labels.push(`<i style="background:${getColor(from + 1)}"></i> ${from}${to ? `&ndash;${to}` : '+'}`);
		}

		labels.push(`<i style="background:#FFFFFF"></i>  No Data`);

		div.innerHTML = labels.join('<br>');
		return div;
	};

	legend.addTo(map);

</script>

		<!-- FOOTER -->
		<div id="footer">
		  <!-- 
			TODO - Change href to your Instagram account (can also delete entire "a" element if no Instagram) 

			This should be the same across all pages.
		  -->
		  <a class="icon-link" target="_blank" href="https://twitter.com/whitevans_eth">
			<image src="../assets/icons/instagram.svg" class="footer-icon"/>
		  </a>
		  <!-- 
			TODO - Change href to your Twitter account (can also delete entire "a" element if no Twitter) 
		  
			This should be the same across all pages.
		  -->
		  <a class="icon-link" target="_blank" href="https://twitter.com/whitevans_eth">
			<image src="../assets/icons/twitter.svg" class="footer-icon"/>
		  </a>
		  <!-- 
			TODO - Change the email after "mailto" to your contact email 
		  
			This should be the same across all pages.
		  -->
		  <a class="icon-link" href="mailto:whitevans.eth@gmail.com">
			<image src="../assets/icons/mail.svg" class="footer-icon"/>
		  </a>
		</div>
	</div>
	</body>
</html>
